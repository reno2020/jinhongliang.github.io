<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>组件化编程探索 | reno's Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <meta name="description" content="自己实践，组件化编程探索." />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="自己实践，组件化编程探索." />
  <meta property="og:url" content="http://reno2020.github.io/2018/09/22/ComponentProgram/index.html" />
  <meta property="og:site_name" content="jinhongliang's Blog" />
  <meta property="og:description" content="自己实践，组件化编程探索." />
  <meta property="og:updated_time" content="2018-09-22T03:09:33.834Z" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="组件化编程探索" />
  <meta name="twitter:description" content="自己实践，组件化编程探索." />
  <link rel="alternative" href="/jinhongliang.github.io/atom.xml" title="jinhongliang's Blog" type="application/atom+xml" />
  <link rel="icon" href="/jinhongliang.github.io/img/favicon.png" />
  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css" type="text/css" />
  <link rel="stylesheet" href="/jinhongliang.github.io/css/style.css" type="text/css" />
  <link rel="stylesheet" href="/jinhongliang.github.io/font-awesome/css/font-awesome.min.css" />
  <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  <link rel="stylesheet" href="/jinhongliang.github.io/fancybox/jquery.fancybox.css" />
  <!-- 加载特效 -->
  <script src="/jinhongliang.github.io/js/pace.js"></script>
  <link href="/jinhongliang.github.io/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: false,
          isPost: true,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>

      <style>
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

  </style>
 </head>
 <body>
  <div id="container">
   <div class="left-col">
    <div class="overlay"></div>
    <div class="intrude-less">
     <header id="header" class="inner">
      <a href="https://github.com/reno2020" class="profilepic"> <img lazy-src="/jinhongliang.github.io/img/head.jpg" class="js-avatar" /> </a>
      <hgroup>
       <h1 class="header-author"><a>努力耐心</a></h1>
      </hgroup>
      <p class="header-subtitle">每个人只有一种命运</p>
      <form>
       <input type="text" class="st-default-search-input search" id="search" placeholder=" Search..." />
      </form>
      <div id="switch-btn" class="switch-btn">
       <div class="icon">
        <div class="icon-ctn">
         <div class="icon-wrap icon-house" data-idx="0">
          <div class="birdhouse"></div>
          <div class="birdhouse_holes"></div>
         </div>
         <div class="icon-wrap icon-ribbon hide" data-idx="1">
          <div class="ribbon"></div>
         </div>
         <div class="icon-wrap icon-link hide" data-idx="2">
          <div class="loopback_l"></div>
          <div class="loopback_r"></div>
         </div>
         <div class="icon-wrap icon-me hide" data-idx="3">
          <div class="user"></div>
          <div class="shoulder"></div>
         </div>
        </div>
       </div>
       <div class="tips-box hide">
        <div class="tips-arrow"></div>
        <ul class="tips-inner">
         <li>菜单</li>
         <li>标签</li>
         <li>友情链接</li>
         <li>关于我</li>
        </ul>
       </div>
      </div>
      <div id="switch-area" class="switch-area">
       <div class="switch-wrap">
        <section class="switch-part switch-part1">
         <nav class="header-menu">
          <ul>
          <li><a href="https://reno2020.github.io/jinhongliang.github.io">博客首页</a></li>
           <li><a href="https://reno2020.github.io/jinhongliang.github.io/article/index.html">文章列表</a></li>
           <li><a href="https://reno2020.github.io/jinhongliang.github.io/work/index.html">作品展示</a></li>
           <li><a href="https://reno2020.github.io/jinhongliang.github.io/about/index.html">关于作者</a></li>
          </ul>
         </nav>
         <nav class="header-nav">
          <ul class="social">
           <a class="fl github" target="_blank" href="https://github.com/reno2020" title="github">github</a>
           <a class="fl zhihu" target="_blank" href="https://www.zhihu.com/people/reno-reno-1" title="zhihu">zhihu</a>
           <a class="fl weibo" target="_blank" href="http://weibo.com/jinhongliang" title="weibo">weibo</a>
           <a class="fl twitter" target="_blank" href="http: //twitter.com/jinhongliang" title="twitter">twitter</a>
           <a class="fl rss" target="_blank" href="/atom.xml" title="rss">rss</a>
          </ul>
         </nav>
        </section>
        <section class="switch-part switch-part2">
         <div class="widget tagcloud" id="js-tagcloud">
          <a href="/tags/Ajax/" style="font-size: 12.5px;">Ajax</a>
          <a href="/tags/CDN/" style="font-size: 10px;">CDN</a>
          <a href="/tags/CSS/" style="font-size: 17.5px;">CSS</a>
          <a href="/tags/CSS3/" style="font-size: 12.5px;">CSS3</a>
          <a href="/tags/Chrome/" style="font-size: 10px;">Chrome</a>
          <a href="/tags/Front-end-outline/" style="font-size: 10px;">Front end outline</a>
          <a href="/tags/FrontPlan/" style="font-size: 10px;">FrontPlan</a>
          <a href="/tags/Git/" style="font-size: 10px;">Git</a>
          <a href="/tags/HTML/" style="font-size: 20px;">HTML</a>
          <a href="/tags/Hexo/" style="font-size: 20px;">Hexo</a>
          <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a>
          <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a>
          <a href="/tags/Mobile/" style="font-size: 15px;">Mobile</a>
          <a href="/tags/NodeJs/" style="font-size: 10px;">NodeJs</a>
          <a href="/tags/Sublime/" style="font-size: 12.5px;">Sublime</a>
          <a href="/tags/automation/" style="font-size: 10px;">automation</a>
          <a href="/tags/rem/" style="font-size: 10px;">rem</a>
          <a href="/tags/sublime/" style="font-size: 10px;">sublime</a>
          <a href="/tags/window-7/" style="font-size: 10px;">window 7</a>
          <a href="/tags/微信/" style="font-size: 10px;">微信</a>
         </div>
        </section>
        <section class="switch-part switch-part3">
         <div id="js-friends">
          <a target="_blank" class="main-nav-link switch-friends-link" href="http://MOxFIVE.github.io/">MOxFIVE</a>
         </div>
        </section>
        <section class="switch-part switch-part4">
         <div id="js-aboutme">
           纯海迷、爱运动、爱交友、爱旅行、喜欢接触新鲜事物、迎接新的挑战，更爱游离于错综复杂的编码与逻辑中
         </div>
        </section>
       </div>
      </div>
     </header>
    </div>
   </div>
   <div class="mid-col">
    <nav id="mobile-nav">
     <div class="overlay">
      <div class="slider-trigger"></div>
      <h1 class="header-author js-mobile-header hide"><a href="https://reno2020.github.io/jinhongliang.github.io" title="回到主页">reno</a></h1>
     </div>
     <div class="intrude-less">
      <header id="header" class="inner">
       <a href="https://reno2020.github.io/jinhongliang.github.io" class="profilepic"> <img lazy-src="/jinhongliang.github.io/img/head.jpg" class="js-avatar" /> </a>
       <hgroup>
        <h1 class="header-author"><a href="https://reno2020.github.io/jinhongliang.github.io" title="回到主页">努力耐心</a></h1>
       </hgroup>
       <p class="header-subtitle">每个人只有一种命运</p>
       <nav class="header-menu">
        <ul>
         <li><a href="https://reno2020.github.io/jinhongliang.github.io">博客首页</a></li>
           <li><a href="https://reno2020.github.io/jinhongliang.github.io/article/index.html">文章列表</a></li>
           <li><a href="https://reno2020.github.io/jinhongliang.github.io/work/index.html">作品展示</a></li>
           <li><a href="https://reno2020.github.io/jinhongliang.github.io/about/index.html">关于作者</a></li>
         <div class="clearfix"></div>
        </ul>
       </nav>
       <nav class="header-nav">
        <div class="social">
         <a class="fl github" target="_blank" href="https://github.com/reno2020" title="github">github</a>
         <a class="fl zhihu" target="_blank" href="https://www.zhihu.com/people/reno-reno-1" title="zhihu">zhihu</a>
         <a class="weibo" target="_blank" href="http://weibo.com/jinhongliang" title="weibo">weibo</a>
         <a class="twitter" target="_blank" href="http: //twitter.com/jinhongliang" title="twitter">twitter</a>
         <a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
        </div>
       </nav>
      </header>
     </div>
    </nav>
    <div class="body-wrap">
     <article id="post-computer" class="article article-type-post" itemscope="" itemprop="blogPost">
      <div class="article-meta">
       <a href="https://reno2020.github.io/jinhongliang.github.io/2018/09/22/ComponentProgram/index.html" class="article-date"> <time datetime="2018-09-22T06:11:20.000Z" itemprop="datePublished">2018-09-22</time> </a>
      </div>
      <div class="article-inner">
       <input type="hidden" class="isFancy" />

       <div class="article-info article-info-post">
        <div class="article-category tagcloud">
        </div>
        <div class="clearfix"></div>
       </div>
       <div class="article-entry" itemprop="articleBody">


         <div class="mume markdown-preview   ">
      <h1 class="mume-header" id="center%E7%BB%84%E4%BB%B6%E5%8C%96%E7%BC%96%E7%A8%8B%E6%8E%A2%E7%B4%A2center"><center>组件化编程探索</center></h1>

<p>       本文主要介绍组件化编程的一些个人想法，以及设计组件的一些思考。以前我们的编程思路主要是面向过程，面向对象，为了满足业务场景去开发。那么现在，我们需要对业务做更高的抽象来适应不同的场景，在此通过简单的例子来说明下。</p>
<p><strong>一、业务背景</strong></p>
<p>       由于公司业务越来越多，程序功能越来越复杂，导致在原始的设计方案中，各个业务系统或者模块都有可能存在大量重复的代码(逻辑大致相同，可能实现方式会有差别)。那么如果底层接口有变动，就会导致需要大量测试回归，同时维护成本也会很高。此时，就需要多个通用的可以实现&quot;热插拔&quot;的功能模块去组合满足业务需求。所以就有了组件化编程的想法，既可以抽象化公用代码，也可以满足随用不同的业务场景。</p>
<p><strong>二、业务案例</strong></p>
<p>       在此举例来说明下组件化编程的实际应用。 例如，一个电商平台，提供火车票预订和鲜花预订的功能。表面上，二者分属不同的业务场景，好像是没什么关联。但仔细考虑下，会发现，也有很多相似之处。首先，预订需要校验请求参数及用户信息；其次，预订都需要创建订单；最后，二者可能都需要配送和开立发票。 有这么多相似的功能，那么我们能不能将校验，订单，物流及发票功能做成一个个小模块，通过组合模块的方式来实现整个业务的流程呢。现在整理一下这两个业务的逻辑(其他业务功能暂时不考虑，本例只是说明思想，具体拆分的功能需要看实现的方式)。预订火车票：校验请求参数及用户信息-&gt;创建火车票订单 ；预订鲜花：校验请求参数及用户信息-&gt;创建鲜花订单-&gt;物流。</p>
<p><strong>三、解决思路</strong></p>
<p>       通过程序代码的方式分析下。校验请求参数（ValidateRequestData），校验用户信息（VerifyUserInfo），创建火车票订单（CreateTrainTicketOrder），创建鲜花订单（CreateFlowerOrder），创建物流信息（CreateLogistics）。<br>
       那么整理一下整个流程<br>
       预订火车票：ValidateRequestData-&gt;VerifyUserInfo-&gt;CreateTrainTicketOrder<br>
       预订鲜花：ValidateRequestData-&gt;VerifyUserInfo-&gt;CreateFlowerOrder-&gt; CreateLogistics</p>
<p><strong>四、编程实例</strong></p>
<p>1.设置每个业务逻辑的执行模版。<br>
<img src="1.png" alt="" title="&#x8BBE;&#x7F6E;&#x6BCF;&#x4E2A;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x7684;&#x6267;&#x884C;&#x6A21;&#x7248;"><br>
2.校验请求参数<br>
<img src="2.png" alt="" title="&#x6821;&#x9A8C;&#x8BF7;&#x6C42;&#x53C2;&#x6570;"><br>
3.校验用户信息<br>
<img src="3.png" alt="" title="&#x6821;&#x9A8C;&#x7528;&#x6237;&#x4FE1;&#x606F;"><br>
4.创建火车票订单<br>
<img src="4.png" alt="" title="&#x521B;&#x5EFA;&#x706B;&#x8F66;&#x7968;&#x8BA2;&#x5355;"><br>
5.创建鲜花订单<br>
<img src="5.png" alt="" title="&#x521B;&#x5EFA;&#x9C9C;&#x82B1;&#x8BA2;&#x5355;"><br>
6.创建物流信息<br>
<img src="6.png" alt="" title="&#x521B;&#x5EFA;&#x7269;&#x6D41;&#x4FE1;&#x606F;"><br>
7.执行结果<br>
<img src="7.png" alt=""><br>
<img src="8.png" alt=""></p>
<p><strong>五、总结</strong></p>
<p>       以上简单说明了预订火车票和鲜花的流程。再次梳理下</p>
<p>       预订火车票：ValidateRequestData->VerifyUserInfo->CreateTrainTicketOrder</p>
<p>       预订鲜花：ValidateRequestData->VerifyUserInfo->CreateFlowerOrder->CreateLogistics</p>
<p>       如果某一天预订火车票也需要添加物流功能，那么就可以直接复用，则预订火车票调整为：ValidateRequestData->VerifyUserInfo->CreateTrainTicketOrder->CreateLogistics。不过又有新的场景出现，例如创建订单之后，需要支付，那么我们能否通过模版去控制采用哪种支付方式呢？这个问题，我们在以后探讨。</p>
<p>       本文只是简单说明下个人对于&quot;组件化&quot;编程的粗略理解，有不足之处还请多多指教。</p>

      </div>


       </div>
      </div>
      <div class="copyright">
       <p><span>本文标题:</span><a href="https://reno2020.github.io/jinhongliang.github.io/2018/09/22/ComponentProgram/index.html">组件化编程探索</a></p>
       <p><span>文章作者:</span><a href="https://github.com/reno2020" title="访问 reno 的个人博客">reno</a></p>
       <p><span>发布时间:</span>2018年09月22日 - 12时00分</p>
       <p><span>最后更新:</span>2018年09月22日 - 12时00分</p>
       <p> <span>原始链接:</span><a class="post-url" href="https://reno2020.github.io/jinhongliang.github.io/2018/09/22/ComponentProgram/index.html" title="组件化编程探索">https://reno2020.github.io/jinhongliang.github.io/2018/09/22/ComponentProgram/index.html</a> <span class="copy-path" data-clipboard-text="原文: https://reno2020.github.io/jinhongliang.github.io/2018/09/22/ComponentProgram/index.html　　作者: reno" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span> <script src="/jinhongliang.github.io/js/clipboard.min.js"></script> <script> var clipboard = new Clipboard('.copy-path'); </script> </p>
       <p> <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" title="中国大陆 (CC BY-NC-SA 3.0 CN)" target="_blank">&quot;署名-非商用-相同方式共享 3.0&quot;</a> 转载请保留原文链接及作者。 </p>
      </div>
      <nav id="article-nav">
       <a href="https://reno2020.github.io/jinhongliang.github.io/2017/01/01/Partner/index.html" id="article-nav-newer" class="article-nav-link-wrap"> <strong class="article-nav-caption">&lt;</strong>
        <div class="article-nav-title">
          Partner操作手册
        </div> </a>
       <a href="https://reno2020.github.io/jinhongliang.github.io/2021/01/19/netty/index.html" id="article-nav-newer" class="article-nav-link-wrap"> <strong class="article-nav-caption">&lt;</strong>
        <div class="article-nav-title">
          Netty服务开发
        </div> <strong class="article-nav-caption">&gt;</strong> </a>
      </nav>
     </article>
     <script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
     <script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
     <script>
        $(".post-list").addClass("toc-article");
        $(".post-list-item a").attr("target","_blank");
        $("#post-nav-button > a:nth-child(2)").click(function() {
            $(".fa-bars, .fa-times").toggle();
            $(".post-list").toggle(300);
            if ($(".toc").length > 0) {
                $("#toc, #tocButton").toggle(200, function() {
                    if ($(".switch-area").is(":visible")) {
                        $("#tocButton").attr("value", valueHide);
                        }
                    })
            }
            else {
            }
        })
    </script>
     <script>

    </script>
    </div>
    <footer id="footer">
     <div class="outer">
      <div id="footer-info">
       <div class="footer-left">
         &copy; 2018 努力耐心
       </div>
       <div class="footer-right">
        <a href="http://hexo.io/" target="_blank">Hexo</a> Theme
        <a href="https://reno2020.github.io/jinhongliang.github.io" target="_blank">spfk</a> by reno
       </div>
      </div>
      <div class="visit">
       <span id="busuanzi_container_site_pv" style="display:none"> <span id="site-visit">访客数: <span id="busuanzi_value_site_uv"></span> </span> </span>
       <span>, </span>
       <span id="busuanzi_container_page_pv" style="display:none"> <span id="page-visit">阅读量: <span id="busuanzi_value_page_pv"></span> </span> </span>
      </div>
     </div>
    </footer>
   </div>
   <script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
   <script src="/jinhongliang.github.io/js/main.js" type="text/javascript"></script>
   <script>
        $(document).ready(function() {
            var backgroundnum = 24;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>
   <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?819b1c6493df653afb8c7846bc4b8db6";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
  </script>
   <div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
   </div>
   <script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>
   <script async="" src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
   <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>
   <script type="text/javascript">
      window.onload = function(){
        document.getElementById("search").onclick = function(){
            console.log("search")
            search();
        }
      }
      function search(){
        (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
        (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
        e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
        })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

        _st('install','A1Pz-LKMXbrzcFg2FWi6','2.0.0');
      }
    </script>
  </div>
 </body>
</html>
